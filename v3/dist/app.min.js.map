{"version":3,"sources":["webpack:///app.min.js","webpack:///webpack/bootstrap 2f9cb707c4d00b49df59","webpack:///./src/js/app.js","webpack:///./src/js/animatedGrid.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_animatedGrid","_animatedGrid2","window","onload","getViewport","axis","client","inner","documentElement","clientWidth","innerWidth","clientHeight","innerHeight","scrollX","pageXOffset","scrollLeft","scrollY","pageYOffset","scrollTop","noscroll","lockScroll","xscroll","yscroll","scrollTo","loadContent","item","dummy","document","createElement","className","style","WebkitTransform","offsetLeft","offsetTop","offsetWidth","gridItemsContainer","offsetHeight","transform","background","getComputedStyle","contentItems","current","classie","add","appendChild","bodyElement","setTimeout","addEventListener","onEndTransition","remove","contentItemsContainer","top","closeCtrl","addClass","isAnimating","hideContent","gridItem","gridItems","contentItem","querySelector","removeClass","parentNode","removeChild","removeEventListener","initEvents","slice","forEach","pos","callback","ev","preventDefault","keyCode","which","activeElement","blur","init","Object","defineProperty","value","body","support","transitions","Modernizr","csstransitions","transEndEventNames","WebkitTransition","MozTransition","OTransition","msTransition","transition","transEndEventName","prefixed","el","onEndCallbackFn","target","this","gridElement","getElementById","querySelectorAll"],"mappings":"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","file":"app.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _animatedGrid = __webpack_require__(1);\n\t\n\tvar _animatedGrid2 = _interopRequireDefault(_animatedGrid);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\twindow.onload = function () {\n\t  (0, _animatedGrid2.default)();\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/* global Modernizr */\n\t/* global classie */\n\t\n\tvar bodyElement = document.body;\n\tvar documentElement = window.document.documentElement;\n\tvar support = {\n\t  transitions: Modernizr.csstransitions\n\t};\n\tvar transEndEventNames = {\n\t  WebkitTransition: 'webkitTransitionEnd',\n\t  MozTransition: 'transitionend',\n\t  OTransition: 'oTransitionEnd',\n\t  msTransition: 'MSTransitionEnd',\n\t  transition: 'transitionend'\n\t};\n\tvar transEndEventName = transEndEventNames[Modernizr.prefixed('transition')];\n\tvar onEndTransition = function onEndTransition(el, callback) {\n\t  var onEndCallbackFn = function onEndCallbackFn(ev) {\n\t    if (support.transitions) {\n\t      if (ev.target !== this) return;\n\t      this.removeEventListener(transEndEventName, onEndCallbackFn);\n\t    }\n\t    if (callback && typeof callback === 'function') {\n\t      callback.call(this);\n\t    }\n\t  };\n\t  if (support.transitions) {\n\t    el.addEventListener(transEndEventName, onEndCallbackFn);\n\t  } else {\n\t    onEndCallbackFn();\n\t  }\n\t};\n\t\n\tvar gridElement = document.getElementById('theGrid');\n\tvar gridItemsContainer = gridElement.querySelector('section.grid');\n\tvar contentItemsContainer = gridElement.querySelector('section.content');\n\tvar gridItems = gridItemsContainer.querySelectorAll('.grid__item');\n\tvar contentItems = contentItemsContainer.querySelectorAll('.content__item');\n\tvar closeCtrl = contentItemsContainer.querySelector('.close-button');\n\t\n\tvar current = -1;\n\tvar lockScroll = false;\n\tvar xscroll = void 0;\n\tvar yscroll = void 0;\n\tvar isAnimating = false;\n\t\n\t/**\n\t * gets the viewport width and height\n\t * based on http://responsejs.com/labs/dimensions/\n\t */\n\tfunction getViewport(axis) {\n\t  var client = void 0;\n\t  var inner = void 0;\n\t  if (axis === 'x') {\n\t    client = documentElement.clientWidth;\n\t    inner = window.innerWidth;\n\t  } else if (axis === 'y') {\n\t    client = documentElement.clientHeight;\n\t    inner = window.innerHeight;\n\t  }\n\t\n\t  return client < inner ? inner : client;\n\t}\n\t\n\tfunction scrollX() {\n\t  return window.pageXOffset || documentElement.scrollLeft;\n\t}\n\tfunction scrollY() {\n\t  return window.pageYOffset || documentElement.scrollTop;\n\t}\n\tfunction noscroll() {\n\t  if (!lockScroll) {\n\t    lockScroll = true;\n\t    xscroll = scrollX();\n\t    yscroll = scrollY();\n\t  }\n\t  window.scrollTo(xscroll, yscroll);\n\t}\n\t\n\tfunction loadContent(item) {\n\t  var dummy = document.createElement('div');\n\t  dummy.className = 'placeholder';\n\t\n\t  dummy.style.WebkitTransform = '\\n  translate3d(' + (item.offsetLeft - 5) + 'px, ' + item.offsetTop + 'px, 0px)\\n    scale3d(' + item.offsetWidth / gridItemsContainer.offsetWidth + ',\\n    ' + item.offsetHeight / getViewport('y') + ', 1)';\n\t  dummy.style.transform = '\\n  translate3d(' + (item.offsetLeft - 5) + 'px, ' + item.offsetTop + 'px, 0px)\\n    scale3d(' + item.offsetWidth / gridItemsContainer.offsetWidth + ',\\n    ' + item.offsetHeight / getViewport('y') + ', 1)';\n\t\n\t  dummy.style.background = getComputedStyle(contentItems[current]).background;\n\t\n\t  classie.add(dummy, 'placeholder--trans-in');\n\t  gridItemsContainer.appendChild(dummy);\n\t  classie.add(bodyElement, 'view-single');\n\t\n\t  setTimeout(function () {\n\t    dummy.style.WebkitTransform = 'translate3d(-5px, ' + (scrollY() - 5) + 'px, 0px)';\n\t    dummy.style.transform = 'translate3d(-5px, ' + (scrollY() - 5) + 'px, 0px)';\n\t    window.addEventListener('scroll', noscroll);\n\t  }, 25);\n\t\n\t  onEndTransition(dummy, function () {\n\t    classie.remove(dummy, 'placeholder--trans-in');\n\t    classie.add(dummy, 'placeholder--trans-out');\n\t    contentItemsContainer.style.top = scrollY() + 'px';\n\t    classie.add(contentItemsContainer, 'content--show');\n\t    classie.add(contentItems[current], 'content__item--show');\n\t    classie.add(closeCtrl, 'close-button--show');\n\t    classie.addClass(bodyElement, 'noscroll');\n\t\n\t    isAnimating = false;\n\t  });\n\t}\n\t\n\tfunction hideContent() {\n\t  var gridItem = gridItems[current];\n\t  var contentItem = contentItems[current];\n\t\n\t  classie.remove(contentItem, 'content__item--show');\n\t  classie.remove(contentItemsContainer, 'content--show');\n\t  classie.remove(closeCtrl, 'close-button--show');\n\t  classie.remove(bodyElement, 'view-single');\n\t\n\t  setTimeout(function () {\n\t    var dummy = gridItemsContainer.querySelector('.placeholder');\n\t\n\t    classie.removeClass(bodyElement, 'noscroll');\n\t\n\t    dummy.style.WebkitTransform = 'translate3d(' + gridItem.offsetLeft + 'px,\\n      ' + gridItem.offsetTop + 'px, 0px)\\n      scale3d(' + gridItem.offsetWidth / gridItemsContainer.offsetWidth + ',\\n      ' + gridItem.offsetHeight / getViewport('y') + ', 1)';\n\t    dummy.style.transform = 'translate3d(' + gridItem.offsetLeft + 'px,\\n      ' + gridItem.offsetTop + 'px, 0px)\\n      scale3d(' + gridItem.offsetWidth / gridItemsContainer.offsetWidth + ',\\n      ' + gridItem.offsetHeight / getViewport('y') + ', 1)';\n\t\n\t    onEndTransition(dummy, function () {\n\t      contentItem.parentNode.scrollTop = 0;\n\t      gridItemsContainer.removeChild(dummy);\n\t      classie.remove(gridItem, 'grid__item--loading');\n\t      classie.remove(gridItem, 'grid__item--animate');\n\t      lockScroll = false;\n\t      window.removeEventListener('scroll', noscroll);\n\t    });\n\t\n\t    current = -1;\n\t  }, 25);\n\t}\n\t\n\tfunction initEvents() {\n\t  [].slice.call(gridItems).forEach(function (item, pos) {\n\t    var callback = function callback(ev) {\n\t      ev.preventDefault();\n\t\n\t      if (isAnimating || current === pos) {\n\t        return false;\n\t      }\n\t      isAnimating = true;\n\t      current = pos;\n\t      classie.add(item, 'grid__item--loading');\n\t      setTimeout(function () {\n\t        classie.add(item, 'grid__item--animate');\n\t\n\t        setTimeout(function () {\n\t          loadContent(item);\n\t        }, 500);\n\t      }, 1000);\n\t\n\t      return false;\n\t    };\n\t\n\t    item.addEventListener('click', callback);\n\t  });\n\t\n\t  closeCtrl.addEventListener('click', function () {\n\t    hideContent();\n\t  });\n\t\n\t  document.addEventListener('keydown', function (ev) {\n\t    if (!isAnimating && current !== -1) {\n\t      var keyCode = ev.keyCode || ev.which;\n\t      if (keyCode === 27) {\n\t        ev.preventDefault();\n\t        if ('activeElement' in document) {\n\t          document.activeElement.blur();\n\t        }\n\t        hideContent();\n\t      }\n\t    }\n\t  });\n\t}\n\t\n\tfunction init() {\n\t  initEvents();\n\t}\n\t\n\texports.default = init;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** app.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2f9cb707c4d00b49df59\n **/","import animatedGrid from './animatedGrid';\n\nwindow.onload = () => {\n  animatedGrid();\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/app.js\n **/","/* global Modernizr */\n/* global classie */\n\nconst bodyElement = document.body;\nconst documentElement = window.document.documentElement;\nconst support = {\n  transitions: Modernizr.csstransitions,\n};\nconst transEndEventNames = {\n  WebkitTransition: 'webkitTransitionEnd',\n  MozTransition: 'transitionend',\n  OTransition: 'oTransitionEnd',\n  msTransition: 'MSTransitionEnd',\n  transition: 'transitionend',\n};\nconst transEndEventName = transEndEventNames[Modernizr.prefixed('transition')];\nconst onEndTransition = (el, callback) => {\n  const onEndCallbackFn = function (ev) {\n    if (support.transitions) {\n      if (ev.target !== this) return;\n      this.removeEventListener(transEndEventName, onEndCallbackFn);\n    }\n    if (callback && typeof callback === 'function') { callback.call(this); }\n  };\n  if (support.transitions) {\n    el.addEventListener(transEndEventName, onEndCallbackFn);\n  } else {\n    onEndCallbackFn();\n  }\n};\n\nconst gridElement = document.getElementById('theGrid');\nconst gridItemsContainer = gridElement.querySelector('section.grid');\nconst contentItemsContainer = gridElement.querySelector('section.content');\nconst gridItems = gridItemsContainer.querySelectorAll('.grid__item');\nconst contentItems = contentItemsContainer.querySelectorAll('.content__item');\nconst closeCtrl = contentItemsContainer.querySelector('.close-button');\n\nlet current = -1;\nlet lockScroll = false;\nlet xscroll;\nlet yscroll;\nlet isAnimating = false;\n\n/**\n * gets the viewport width and height\n * based on http://responsejs.com/labs/dimensions/\n */\nfunction getViewport(axis) {\n  let client;\n  let inner;\n  if (axis === 'x') {\n    client = documentElement.clientWidth;\n    inner = window.innerWidth;\n  } else if (axis === 'y') {\n    client = documentElement.clientHeight;\n    inner = window.innerHeight;\n  }\n\n  return client < inner ? inner : client;\n}\n\nfunction scrollX() { return window.pageXOffset || documentElement.scrollLeft; }\nfunction scrollY() { return window.pageYOffset || documentElement.scrollTop; }\nfunction noscroll() {\n  if (!lockScroll) {\n    lockScroll = true;\n    xscroll = scrollX();\n    yscroll = scrollY();\n  }\n  window.scrollTo(xscroll, yscroll);\n}\n\n\nfunction loadContent(item) {\n  const dummy = document.createElement('div');\n  dummy.className = 'placeholder';\n\n  dummy.style.WebkitTransform = `\n  translate3d(${(item.offsetLeft - 5)}px, ${(item.offsetTop)}px, 0px)\n    scale3d(${item.offsetWidth / gridItemsContainer.offsetWidth},\n    ${item.offsetHeight / getViewport('y')}, 1)`;\n  dummy.style.transform = `\n  translate3d(${(item.offsetLeft - 5)}px, ${(item.offsetTop)}px, 0px)\n    scale3d(${item.offsetWidth / gridItemsContainer.offsetWidth},\n    ${item.offsetHeight / getViewport('y')}, 1)`;\n\n  dummy.style.background = getComputedStyle(contentItems[current]).background;\n\n  classie.add(dummy, 'placeholder--trans-in');\n  gridItemsContainer.appendChild(dummy);\n  classie.add(bodyElement, 'view-single');\n\n  setTimeout(() => {\n    dummy.style.WebkitTransform = `translate3d(-5px, ${(scrollY() - 5)}px, 0px)`;\n    dummy.style.transform = `translate3d(-5px, ${(scrollY() - 5)}px, 0px)`;\n    window.addEventListener('scroll', noscroll);\n  }, 25);\n\n  onEndTransition(dummy, () => {\n    classie.remove(dummy, 'placeholder--trans-in');\n    classie.add(dummy, 'placeholder--trans-out');\n    contentItemsContainer.style.top = `${scrollY()}px`;\n    classie.add(contentItemsContainer, 'content--show');\n    classie.add(contentItems[current], 'content__item--show');\n    classie.add(closeCtrl, 'close-button--show');\n    classie.addClass(bodyElement, 'noscroll');\n\n    isAnimating = false;\n  });\n}\n\nfunction hideContent() {\n  const gridItem = gridItems[current];\n  const contentItem = contentItems[current];\n\n  classie.remove(contentItem, 'content__item--show');\n  classie.remove(contentItemsContainer, 'content--show');\n  classie.remove(closeCtrl, 'close-button--show');\n  classie.remove(bodyElement, 'view-single');\n\n  setTimeout(() => {\n    const dummy = gridItemsContainer.querySelector('.placeholder');\n\n    classie.removeClass(bodyElement, 'noscroll');\n\n    dummy.style.WebkitTransform = `translate3d(${gridItem.offsetLeft}px,\n      ${gridItem.offsetTop}px, 0px)\n      scale3d(${gridItem.offsetWidth / gridItemsContainer.offsetWidth},\n      ${gridItem.offsetHeight / getViewport('y')}, 1)`;\n    dummy.style.transform = `translate3d(${gridItem.offsetLeft}px,\n      ${gridItem.offsetTop}px, 0px)\n      scale3d(${gridItem.offsetWidth / gridItemsContainer.offsetWidth},\n      ${gridItem.offsetHeight / getViewport('y')}, 1)`;\n\n    onEndTransition(dummy, () => {\n      contentItem.parentNode.scrollTop = 0;\n      gridItemsContainer.removeChild(dummy);\n      classie.remove(gridItem, 'grid__item--loading');\n      classie.remove(gridItem, 'grid__item--animate');\n      lockScroll = false;\n      window.removeEventListener('scroll', noscroll);\n    });\n\n    current = -1;\n  }, 25);\n}\n\nfunction initEvents() {\n  [].slice.call(gridItems).forEach((item, pos) => {\n    const callback = (ev) => {\n      ev.preventDefault();\n\n      if (isAnimating || current === pos) { return false; }\n      isAnimating = true;\n      current = pos;\n      classie.add(item, 'grid__item--loading');\n      setTimeout(() => {\n        classie.add(item, 'grid__item--animate');\n\n        setTimeout(() => {\n          loadContent(item);\n        }, 500);\n      }, 1000);\n\n      return false;\n    };\n\n    item.addEventListener('click', callback);\n  });\n\n  closeCtrl.addEventListener('click', () => {\n    hideContent();\n  });\n\n  document.addEventListener('keydown', (ev) => {\n    if (!isAnimating && current !== -1) {\n      const keyCode = ev.keyCode || ev.which;\n      if (keyCode === 27) {\n        ev.preventDefault();\n        if ('activeElement' in document) {\n          document.activeElement.blur();\n        }\n        hideContent();\n      }\n    }\n  });\n}\n\nfunction init() {\n  initEvents();\n}\n\nexport default init;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/animatedGrid.js\n **/"],"sourceRoot":""}